<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }

        .erreur {
            font-size: 24px;
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>

<script>
    const questions = [
        { question: "Quel était le nom de l'hotel ?", reponse: "5061726973" },
        { question: "Quelle est l'heure la plus importante de votre vie (hh:hh) ?", reponse: "737562" },
        { question: "Pour Johnny Cash, June Carter était son ?", reponse: "756E69717565" },
        { question: "Quel jour vous a t il parlé", reponse: "3236" },
        { question: "Sur quoi étiez vous assis?", reponse: "6D617263686573" },
        { question: "Quel accessoire est indispensable pour bien faire l'amour ?", reponse: "636F7565747465" }
    ];

    const questionsAleatoires = questions.sort(() => Math.random() - 0.5).slice(0, 3);

    function verifierReponses() {
        let reponsesCorrectes = 0;

        for (let i = 0; i < 3; i++) {
            let reponseUtilisateur;
            let reponseHexadecimal;

            do {
                reponseUtilisateur = prompt(questionsAleatoires[i].question);
                reponseHexadecimal = reponseUtilisateur ? Buffer.from(reponseUtilisateur).toString('hex') : '';
                
                if (reponseHexadecimal === questionsAleatoires[i].reponse) {
                    reponsesCorrectes++;
                } else {
                    afficherMessageErreur();
                }
            } while (reponseHexadecimal !== questionsAleatoires[i].reponse);
        }

        if (reponsesCorrectes === 3) {
            const texteEncodé = "546578746520656e636f6461676520696e2068657861646563696d616c";
            alert(Buffer.from(texteEncodé, 'hex').toString('utf-8'));
        }
    }

    function afficherMessageErreur() {
        const messageErreur = document.createElement('div');
        messageErreur.textContent = "Désolé, vous n'avez pas répondu correctement à cette question. Veuillez réessayer.";
        messageErreur.classList.add('erreur');
        document.body.appendChild(messageErreur);
    }

    window.onload = verifierReponses;
</script>

</body>
</html>
